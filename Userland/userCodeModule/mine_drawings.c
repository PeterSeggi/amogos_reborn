#include "include/mine_drawings.h"
#include "include/userlib.h"


#define BOX_LAYERS 3
uint32_t box_colors[BOX_LAYERS]={GRAY,LIGHTGRAY,DARKGRAY};
uint16_t box[][boxHeight]={

    //graylines
    {0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111},

     //lightgraylines
    {0b1111111111111110,
     0b1111111111111100,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1100000000000000,
     0b1000000000000000,
     0b0000000000000000},

     //darkgraylines
    {0b0000000000000000,
     0b0000000000000001,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000011,
     0b0011111111111111,
     0b0111111111111111}
};

#define PRESSED_BOX_LAYERS 2
uint32_t pressed_box_colors[PRESSED_BOX_LAYERS]={GRAY,DARKERGRAY};
uint16_t pressed_box[][boxHeight]={

    //graylines
    {0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111,
     0b1111111111111111},

     //darkergraylines
    {0b1111111111111111,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1000000000000001,
     0b1111111111111111},
};

#define FLAG_LAYERS 2
uint32_t flag_colors[FLAG_LAYERS]={BLACK,RED};
uint16_t flag[][boxHeight]={

    //blacklines
    {0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000010000000,
     0b0000000010000000,
     0b0000001111000000,
     0b0000111111110000,
     0b0000111111110000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000},

     //redlines
    {0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000110000000,
     0b0000011110000000,
     0b0000111110000000,
     0b0000011110000000,
     0b0000000110000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000}
};

#define BOMB_LAYERS 4
uint32_t bomb_colors[BOMB_LAYERS]={YELLOW,WHITE,DARKGRAY,BLACK};
uint16_t bomb[][bombHeight]={

    //yellowlines
    {0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000011100000,
     0b0000000110110000,
     0b0000000100010000,
     0b0000000110100000,
     0b0000000011100000,
     0b0000000011100000,
     0b0000000011100000,
     0b0000000110100000,
     0b0000000100010000,
     0b0000000110110000,
     0b0000000011100000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000010,
     0b0000000000000011,
     0b0000000000000011,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000},

     //whitelines
    {0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000},

    //darkgraylines
    {0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000001,
     0b0000000000000001,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000},

    //blacklines
    {0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000001,
     0b0000000000000001,
     0b0000000000000000,
     0b0000000000000001,
     0b0000000000000010,
     0b0000000000000010,
     0b0000000011100111,
     0b0000000100011111,
     0b0000001001001111,
     0b0000001011101111,
     0b0000001001011111,
     0b0000000100011111,
     0b0000000100011111,
     0b0000000100011111,
     0b0000001001011111,
     0b0000001011101111,
     0b0000001001001111,
     0b0000000100011111,
     0b0000000011101111,
     0b0000000000000111,
     0b0000000000000101,
     0b0000000000000100,
     0b0000000000000100,
     0b0000000000000011,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000,
     0b0000000000000000},

     //yellowlines
    {0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000001100000000,
    0b1111011100000000,
    0b1111011100000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000},

    //whitelines
    {0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b1000000000000000,
    0b0100000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0001100110000000,
    0b0001100110000000,
    0b0001100110000000,
    0b0001100110000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000},

    //darkgraylines
    {0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b1111100000000000,
    0b1111100000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000},

     //blacklines
    {0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b1000000000000000,
    0b0100000000000000,
    0b1010000000000000,
    0b1111100000000000,
    0b0000010000000000,
    0b0000010000000000,
    0b1111111100000000,
    0b1111111110000000,
    0b1111111111000000,
    0b1111111111000000,
    0b1110011001100000,
    0b1110011001100000,
    0b1110011001100000,
    0b1110011001100000,
    0b1111111111100000,
    0b1111111111100000,
    0b1111111111000000,
    0b1111111111000000,
    0b1111111110000000,
    0b1111111100000000,
    0b1111110010000000,
    0b0000100010000000,
    0b0000100010000000,
    0b1111111100000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000}
};

#define NUMBERS_AMOUNT 8
uint32_t numbers_colors[NUMBERS_AMOUNT]={NUM1COLOR,NUM2COLOR,NUM3COLOR,NUM4COLOR,NUM5COLOR,NUM6COLOR,NUM7COLOR,NUM8COLOR};
uint16_t numbers[][boxHeight]={

    {0b0000000000000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000111111000000,
     0b0011111111000000,
     0b0011111111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0000001111000000,
     0b0011111111111100,
     0b0011111111111100,
     0b0000000000000000},

    {0b0000000000000000,
     0b0000111111111000,
     0b0001111111111000,
     0b0011100000111100,
     0b0011100000111100,
     0b0000000011111100,
     0b0000000011111100,
     0b0000011111110000,
     0b0000011111110000,
     0b0001111111000000,
     0b0001111111000000,
     0b0011111100000000,
     0b0011110000000000,
     0b0011111111111100,
     0b0011111111111100,
     0b0000000000000000},

    {0b0000000000000000,
     0b0001111111111000,
     0b0001111111111000,
     0b0111100000011110,
     0b0111100000011110,
     0b0000000000011110,
     0b0000000000011110,
     0b0000011111111000,
     0b0000011111111000,
     0b0000000000011110,
     0b0000000000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0001111111111000,
     0b0001111111111000,
     0b0000000000000000},

    {0b0000000000000000,
     0b0000000001111000,
     0b0000000001111000,
     0b0000000111111000,
     0b0000000111111000,
     0b0000011001111000,
     0b0000011001111000,
     0b0001100001111000,
     0b0001100001111000,
     0b0110000001111000,
     0b0110000001111000,
     0b0111111111111110,
     0b0111111111111110,
     0b0000000001111000,
     0b0000000001111000,
     0b0000000000000000},

    {0b0000000000000000,
     0b0111111111111110,
     0b0111111111111110,
     0b0111100000000000,
     0b0111100000000000,
     0b0111100000000000,
     0b0111100000000000,
     0b0111111111111000,
     0b0111111111111000,
     0b0000000000011110,
     0b0000000000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0001111111111000,
     0b0001111111111000,
     0b0000000000000000},

    {0b0000000000000000,
     0b0000000001111110,
     0b0000000001111110,
     0b0000000111100000,
     0b0000000111100000,
     0b0001111111111000,
     0b0001111111111000,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0001111111111000,
     0b0001111111111000,
     0b0000000000000000},

    {0b0000000000000000,
     0b0111111111111110,
     0b0111111111111110,
     0b0000000000011110,
     0b0000000000011110,
     0b0000000000011110,
     0b0000000000011110,
     0b0000000001111000,
     0b0000000001111000,
     0b0000000001111000,
     0b0000000001111000,
     0b0000000111100000,
     0b0000000111100000,
     0b0000000111100000,
     0b0000000111100000,
     0b0000000000000000},

    {0b0000000000000000,
     0b0001111111111000,
     0b0001111111111000,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0001111111111000,
     0b0001111111111000,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0111100000011110,
     0b0001111111111000,
     0b0001111111111000,
     0b0000000000000000}
};

void draw_box(uint64_t init_x, uint64_t init_y){
    draw_minebox(box,BOX_LAYERS,box_colors,init_x,init_y);
}

void draw_pressed_box(uint64_t init_x, uint64_t init_y){
    draw_minebox(pressed_box,PRESSED_BOX_LAYERS,pressed_box_colors,init_x,init_y);
}

void draw_flag(uint64_t init_x, uint64_t init_y){
    draw_minebox(flag,FLAG_LAYERS,flag_colors,init_x,init_y);
}

void draw_bomb(uint64_t init_x, uint64_t init_y){
    changeDrawSize(1);
    for(int i=0; i<BOMB_LAYERS; i++){
        draw(bomb[i], bomb_colors[i], boxHeight*2, init_x, init_y);
    }
    for(int i=0; i<BOMB_LAYERS; i++){
        draw(bomb[i+BOMB_LAYERS], bomb_colors[i], boxHeight*2, init_x+boxWidth, init_y);
    }
}

void draw_minebox(uint16_t bitmap[][boxHeight], uint16_t layers, uint32_t colors[], uint64_t init_x, uint64_t init_y){
    changeDrawSize(2);
    for(int i=0; i<layers; i++){
        draw(bitmap[i], colors[i], boxHeight, init_x, init_y);
    }
}